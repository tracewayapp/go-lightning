# Development Setup

Guide for contributing to go-lightning.

## Repository Structure

```
go-lightning/
├── lightning.go          # Core library
├── lightning_test.go     # Core tests
├── lpg/                  # PostgreSQL module
│   ├── lpg.go
│   ├── lpg_test.go
│   └── examples/
├── lmy/                  # MySQL module
│   ├── lmy.go
│   ├── lmy_test.go
│   └── examples/
└── go.work               # Go workspace
```

## Setup

```bash
# Clone repository
git clone https://github.com/tracewayapp/go-lightning.git
cd go-lightning

# Install dependencies
go mod download

# Sync workspace
go work sync
```

## Running Tests

```bash
# All tests
go test ./...

# Specific module
go test ./lpg/...
go test ./lmy/...

# With coverage
go test -cover ./...

# Verbose
go test -v ./...
```

## Code Organization

- **Core** (`lightning.go`): Database-agnostic generic operations
- **PostgreSQL** (`lpg/`): PostgreSQL-specific implementations
- **MySQL** (`lmy/`): MySQL-specific implementations

## Adding a New Database

1. Create new package (e.g., `lsqlite/`)
2. Implement `InsertUpdateQueryGenerator`
3. Create convenience `Register[T]()` function
4. Add tests
5. Add examples

See existing modules for reference.
