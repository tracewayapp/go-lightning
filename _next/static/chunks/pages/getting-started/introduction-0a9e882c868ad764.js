(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{720:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/getting-started/introduction",function(){return i(1284)}])},1284:function(e,n,i){"use strict";i.r(n),i.d(n,{__toc:function(){return l}});var t=i(5893),r=i(2673),s=i(6513),a=i(9004);i(4759);var o=i(2643);let l=[{depth:2,value:"What is go-lightning?",id:"what-is-go-lightning"},{depth:2,value:"Philosophy",id:"philosophy"},{depth:3,value:"1. Thin Abstraction Layer",id:"1-thin-abstraction-layer"},{depth:3,value:"2. Explicit Over Implicit",id:"2-explicit-over-implicit"},{depth:3,value:"3. Type Safety",id:"3-type-safety"},{depth:3,value:"4. Performance",id:"4-performance"},{depth:2,value:"Why Use go-lightning?",id:"why-use-go-lightning"},{depth:3,value:"✅ Use go-lightning when you:",id:"-use-go-lightning-when-you"},{depth:3,value:"❌ Don't use go-lightning when you:",id:"-dont-use-go-lightning-when-you"},{depth:2,value:"Architecture Overview",id:"architecture-overview"},{depth:3,value:"The Flow",id:"the-flow"},{depth:3,value:"Key Components",id:"key-components"},{depth:4,value:"Registration System",id:"registration-system"},{depth:4,value:"Naming Strategy",id:"naming-strategy"},{depth:4,value:"Generic Operations",id:"generic-operations"},{depth:4,value:"Manual Operations",id:"manual-operations"},{depth:2,value:"Performance Characteristics",id:"performance-characteristics"},{depth:3,value:"Registration Time (One-Time Cost)",id:"registration-time-one-time-cost"},{depth:3,value:"Query Execution (Runtime)",id:"query-execution-runtime"},{depth:2,value:"Next Steps",id:"next-steps"}];function d(e){let n=Object.assign({h1:"h1",h2:"h2",p:"p",strong:"strong",code:"code",h3:"h3",ul:"ul",li:"li",pre:"pre",span:"span",h4:"h4",a:"a"},(0,o.a)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{children:"Introduction"}),"\n",(0,t.jsx)(n.h2,{id:"what-is-go-lightning",children:"What is go-lightning?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"go-lightning"})," is a lightweight Go library for simplified database operations using generics. It provides type-safe wrappers around Go's standard ",(0,t.jsx)(n.code,{children:"database/sql"})," package with automatic struct-to-table mapping, reducing boilerplate code for common CRUD operations."]}),"\n",(0,t.jsx)(n.h2,{id:"philosophy",children:"Philosophy"}),"\n",(0,t.jsx)(n.p,{children:"go-lightning follows these design principles:"}),"\n",(0,t.jsxs)(n.h3,{id:"1-thin-abstraction-layer",children:["1. ",(0,t.jsx)(n.strong,{children:"Thin Abstraction Layer"})]}),"\n",(0,t.jsxs)(n.p,{children:["go-lightning is not an ORM. It's a convenience layer over ",(0,t.jsx)(n.code,{children:"database/sql"})," that handles the repetitive parts (struct scanning, query templates) while keeping you in control of SQL queries and transaction management."]}),"\n",(0,t.jsxs)(n.h3,{id:"2-explicit-over-implicit",children:["2. ",(0,t.jsx)(n.strong,{children:"Explicit Over Implicit"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Explicit registration"})," - Types must be registered before use with ",(0,t.jsx)(n.code,{children:"Register[T]()"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Explicit transactions"})," - All operations require a ",(0,t.jsx)(n.code,{children:"*sql.Tx"})," parameter"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Explicit SQL"})," - You write the queries; go-lightning handles the mapping"]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"3-type-safety",children:["3. ",(0,t.jsx)(n.strong,{children:"Type Safety"})]}),"\n",(0,t.jsx)(n.p,{children:"Leveraging Go 1.18+ generics for compile-time type checking. Errors are caught at compile time, not runtime."}),"\n",(0,t.jsxs)(n.h3,{id:"4-performance",children:["4. ",(0,t.jsx)(n.strong,{children:"Performance"})]}),"\n",(0,t.jsx)(n.p,{children:"Reflection happens once at registration time to build query templates and field mappings. During execution, pre-built templates are used with zero reflection overhead."}),"\n",(0,t.jsx)(n.h2,{id:"why-use-go-lightning",children:"Why Use go-lightning?"}),"\n",(0,t.jsx)(n.h3,{id:"-use-go-lightning-when-you",children:"✅ Use go-lightning when you:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Want to reduce boilerplate code for basic CRUD operations"}),"\n",(0,t.jsx)(n.li,{children:"Need type-safe database operations with compile-time checking"}),"\n",(0,t.jsx)(n.li,{children:"Prefer writing SQL but don't want manual struct scanning"}),"\n",(0,t.jsx)(n.li,{children:"Value explicit control over transactions and queries"}),"\n",(0,t.jsxs)(n.li,{children:["Want automatic naming convention mapping (e.g., ",(0,t.jsx)(n.code,{children:"UserProfile"})," → ",(0,t.jsx)(n.code,{children:"user_profiles"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-dont-use-go-lightning-when-you",children:"❌ Don't use go-lightning when you:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Need complex query building (use raw SQL or a query builder)"}),"\n",(0,t.jsx)(n.li,{children:"Want automatic migrations or schema management (use a migration tool)"}),"\n",(0,t.jsx)(n.li,{children:"Prefer active record patterns (use an ORM like GORM)"}),"\n",(0,t.jsx)(n.li,{children:"Need database-agnostic query generation (write database-specific queries)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,t.jsx)(n.h3,{id:"the-flow",children:"The Flow"}),"\n",(0,t.jsx)(n.pre,{"data-language":"text","data-theme":"default",hasCopyCode:!0,children:(0,t.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"1. Define Struct          →  type User struct { Id int; Name string }"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"2. Register Type          →  lpg.Register[User]()"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"3. FieldMap Created       →  (Reflection happens here, once)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"4. Use Generic Operations →  lpg.InsertGeneric(tx, &user)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"5. Fast Execution         →  (Pre-built templates, zero reflection)"})})]})}),"\n",(0,t.jsx)(n.h3,{id:"key-components",children:"Key Components"}),"\n",(0,t.jsx)(n.h4,{id:"registration-system",children:(0,t.jsx)(n.strong,{children:"Registration System"})}),"\n",(0,t.jsx)(n.p,{children:"Before using a struct type with generic operations, you must register it:"}),"\n",(0,t.jsx)(n.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,t.jsxs)(n.code,{"data-language":"go","data-theme":"default",children:[(0,t.jsxs)(n.span,{className:"line",children:[(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"init"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    lpg.Register[User]()"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,t.jsxs)(n.p,{children:["This builds a ",(0,t.jsx)(n.code,{children:"FieldMap"})," containing:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Column name mappings (struct field → database column)"}),"\n",(0,t.jsx)(n.li,{children:"Pre-built INSERT/UPDATE query templates"}),"\n",(0,t.jsx)(n.li,{children:"ID field detection for special handling"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"naming-strategy",children:(0,t.jsx)(n.strong,{children:"Naming Strategy"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"DbNamingStrategy"})," interface converts Go naming to database naming:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Struct names"})," → ",(0,t.jsx)(n.strong,{children:"Table names"}),": ",(0,t.jsx)(n.code,{children:"UserProfile"})," → ",(0,t.jsx)(n.code,{children:"user_profiles"})," (snake_case + plural)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Field names"})," → ",(0,t.jsx)(n.strong,{children:"Column names"}),": ",(0,t.jsx)(n.code,{children:"FirstName"})," → ",(0,t.jsx)(n.code,{children:"first_name"})," (snake_case)"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"You can provide custom strategies for different conventions."}),"\n",(0,t.jsx)(n.h4,{id:"generic-operations",children:(0,t.jsx)(n.strong,{children:"Generic Operations"})}),"\n",(0,t.jsx)(n.p,{children:"Type-safe functions that automatically map between structs and database rows:"}),"\n",(0,t.jsx)(n.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,t.jsxs)(n.code,{"data-language":"go","data-theme":"default",children:[(0,t.jsxs)(n.span,{className:"line",children:[(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"lpg.SelectGeneric[User](tx, query, args"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")      "}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// Returns []*User"})]}),"\n",(0,t.jsxs)(n.span,{className:"line",children:[(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"lpg."}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"InsertGeneric"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(tx, "}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"user)                     "}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// Returns int (ID)"})]}),"\n",(0,t.jsxs)(n.span,{className:"line",children:[(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"lpg."}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"UpdateGeneric"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(tx, "}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"user, where, args"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")     "}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// Updates all fields"})]})]})}),"\n",(0,t.jsx)(n.h4,{id:"manual-operations",children:(0,t.jsx)(n.strong,{children:"Manual Operations"})}),"\n",(0,t.jsxs)(n.p,{children:["For cases requiring custom mapping, use manual operations with a ",(0,t.jsx)(n.code,{children:"mapLine"})," function:"]}),"\n",(0,t.jsx)(n.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,t.jsx)(n.code,{"data-language":"go","data-theme":"default",children:(0,t.jsxs)(n.span,{className:"line",children:[(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"lpg.SelectMultiple[User](tx, mapLine, query, args"}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})]})})}),"\n",(0,t.jsx)(n.h2,{id:"performance-characteristics",children:"Performance Characteristics"}),"\n",(0,t.jsx)(n.h3,{id:"registration-time-one-time-cost",children:"Registration Time (One-Time Cost)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reflection"}),": Inspects struct fields to build field map"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Query Building"}),": Generates INSERT and UPDATE query templates"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Happens"}),": At ",(0,t.jsx)(n.code,{children:"init()"})," time or first ",(0,t.jsx)(n.code,{children:"Register[]"})," call"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"query-execution-runtime",children:"Query Execution (Runtime)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Zero Reflection"}),": Uses pre-built templates and field indexes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Direct Scanning"}),": Pointers to struct fields are pre-calculated"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Performance"}),": Comparable to hand-written database/sql code"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/getting-started/installation",children:"Installation"})," - Install go-lightning for your database"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/getting-started/quick-start",children:"Quick Start"})," - Build your first CRUD application"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/getting-started/core-concepts",children:"Core Concepts"})," - Deep dive into the architecture"]}),"\n"]})]})}let c={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.a)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)},pageOpts:{filePath:"pages/getting-started/introduction.mdx",route:"/getting-started/introduction",timestamp:1766518801e3,pageMap:[{kind:"Meta",data:{index:"Home","getting-started":"Getting Started",guides:"Guides","api-reference":"API Reference",examples:"Examples",troubleshooting:"Troubleshooting",contributing:"Contributing"}},{kind:"Folder",name:"api-reference",route:"/api-reference",children:[{kind:"Meta",data:{core:"Core",postgresql:"PostgreSQL",mysql:"MySQL"}},{kind:"Folder",name:"core",route:"/api-reference/core",children:[{kind:"Meta",data:{interfaces:"Interfaces",registration:"Registration","generic-operations":"Generic Operations","manual-operations":"Manual Operations",helpers:"Helper Functions"}},{kind:"MdxPage",name:"generic-operations",route:"/api-reference/core/generic-operations"},{kind:"MdxPage",name:"helpers",route:"/api-reference/core/helpers"},{kind:"MdxPage",name:"interfaces",route:"/api-reference/core/interfaces"},{kind:"MdxPage",name:"manual-operations",route:"/api-reference/core/manual-operations"},{kind:"MdxPage",name:"registration",route:"/api-reference/core/registration"}]},{kind:"Folder",name:"mysql",route:"/api-reference/mysql",children:[{kind:"Meta",data:{overview:"Overview","crud-operations":"CRUD Operations"}},{kind:"MdxPage",name:"crud-operations",route:"/api-reference/mysql/crud-operations"},{kind:"MdxPage",name:"overview",route:"/api-reference/mysql/overview"}]},{kind:"Folder",name:"postgresql",route:"/api-reference/postgresql",children:[{kind:"Meta",data:{overview:"Overview","crud-operations":"CRUD Operations","uuid-support":"UUID Support","parameter-handling":"Parameter Handling"}},{kind:"MdxPage",name:"crud-operations",route:"/api-reference/postgresql/crud-operations"},{kind:"MdxPage",name:"overview",route:"/api-reference/postgresql/overview"},{kind:"MdxPage",name:"parameter-handling",route:"/api-reference/postgresql/parameter-handling"},{kind:"MdxPage",name:"uuid-support",route:"/api-reference/postgresql/uuid-support"}]}]},{kind:"Folder",name:"contributing",route:"/contributing",children:[{kind:"Meta",data:{development:"Development Setup",testing:"Testing"}},{kind:"MdxPage",name:"development",route:"/contributing/development"},{kind:"MdxPage",name:"testing",route:"/contributing/testing"}]},{kind:"Folder",name:"examples",route:"/examples",children:[{kind:"Meta",data:{"basic-crud":"Basic CRUD","postgresql-complete":"PostgreSQL Complete Example","mysql-complete":"MySQL Complete Example","uuid-entities":"UUID Entities","custom-naming":"Custom Naming Strategy","advanced-queries":"Advanced Queries"}},{kind:"MdxPage",name:"advanced-queries",route:"/examples/advanced-queries"},{kind:"MdxPage",name:"basic-crud",route:"/examples/basic-crud"},{kind:"MdxPage",name:"custom-naming",route:"/examples/custom-naming"},{kind:"MdxPage",name:"mysql-complete",route:"/examples/mysql-complete"},{kind:"MdxPage",name:"postgresql-complete",route:"/examples/postgresql-complete"},{kind:"MdxPage",name:"uuid-entities",route:"/examples/uuid-entities"}]},{kind:"Folder",name:"getting-started",route:"/getting-started",children:[{kind:"Meta",data:{introduction:"Introduction",installation:"Installation","quick-start":"Quick Start","core-concepts":"Core Concepts"}},{kind:"MdxPage",name:"core-concepts",route:"/getting-started/core-concepts"},{kind:"MdxPage",name:"installation",route:"/getting-started/installation"},{kind:"MdxPage",name:"introduction",route:"/getting-started/introduction"},{kind:"MdxPage",name:"quick-start",route:"/getting-started/quick-start"}]},{kind:"Folder",name:"guides",route:"/guides",children:[{kind:"Meta",data:{postgresql:"PostgreSQL",mysql:"MySQL",registration:"Registration System","naming-strategies":"Naming Strategies",transactions:"Transactions"}},{kind:"MdxPage",name:"mysql",route:"/guides/mysql"},{kind:"MdxPage",name:"naming-strategies",route:"/guides/naming-strategies"},{kind:"MdxPage",name:"postgresql",route:"/guides/postgresql"},{kind:"MdxPage",name:"registration",route:"/guides/registration"},{kind:"MdxPage",name:"transactions",route:"/guides/transactions"}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"troubleshooting",route:"/troubleshooting",children:[{kind:"Meta",data:{"common-errors":"Common Errors",debugging:"Debugging Guide","migration-guide":"Migration Guide"}},{kind:"MdxPage",name:"common-errors",route:"/troubleshooting/common-errors"},{kind:"MdxPage",name:"debugging",route:"/troubleshooting/debugging"},{kind:"MdxPage",name:"migration-guide",route:"/troubleshooting/migration-guide"}]}],flexsearch:{codeblocks:!0},title:"Introduction",headings:l},pageNextRoute:"/getting-started/introduction",nextraLayout:s.ZP,themeConfig:a.Z};n.default=(0,r.j)(c)},9004:function(e,n,i){"use strict";var t=i(5893);n.Z={logo:(0,t.jsx)("span",{style:{fontWeight:700,fontSize:"1.2rem"},children:"⚡ go-lightning"}),project:{link:"https://github.com/tracewayapp/go-lightning"},docsRepositoryBase:"https://github.com/tracewayapp/go-lightning/tree/main/docs",useNextSeoProps:()=>({titleTemplate:"%s – go-lightning"}),head:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,t.jsx)("meta",{property:"og:title",content:"go-lightning"}),(0,t.jsx)("meta",{property:"og:description",content:"Lightweight Go library for simplified database operations"})]}),primaryHue:205,darkMode:!0,nextThemes:{defaultTheme:"dark"},sidebar:{defaultMenuCollapseLevel:1,toggleButton:!0},toc:{backToTop:!0},editLink:{text:"Edit this page on GitHub →"},feedback:{content:"Question? Give us feedback →",labels:"feedback"},footer:{text:(0,t.jsxs)("span",{children:["MIT ",new Date().getFullYear()," \xa9"," ",(0,t.jsx)("a",{href:"https://github.com/tracewayapp",target:"_blank",children:"Traceway"})]})}}},5789:function(){}},function(e){e.O(0,[73,888,774,179],function(){return e(e.s=720)}),_N_E=e.O()}]);