(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{9365:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/api-reference/core/generic-operations",function(){return s(7295)}])},7295:function(e,r,s){"use strict";s.r(r),s.d(r,{__toc:function(){return a}});var n=s(5893),i=s(2673),t=s(6513),l=s(9004);s(4759);var o=s(2643);let a=[{depth:2,value:"SelectGeneric",id:"selectgeneric"},{depth:3,value:"Signature",id:"signature"},{depth:3,value:"Parameters",id:"parameters"},{depth:3,value:"Returns",id:"returns"},{depth:3,value:"Example",id:"example"},{depth:3,value:"Behavior",id:"behavior"},{depth:2,value:"SelectGenericSingle",id:"selectgenericsingle"},{depth:3,value:"Signature",id:"signature-1"},{depth:3,value:"Returns",id:"returns-1"},{depth:3,value:"Example",id:"example-1"},{depth:3,value:"Behavior",id:"behavior-1"},{depth:2,value:"InsertGeneric",id:"insertgeneric"},{depth:3,value:"Signature",id:"signature-2"},{depth:3,value:"Parameters",id:"parameters-1"},{depth:3,value:"Returns",id:"returns-2"},{depth:3,value:"Requirements",id:"requirements"},{depth:3,value:"Example",id:"example-2"},{depth:2,value:"InsertGenericUuid",id:"insertgenericuuid"},{depth:3,value:"Signature",id:"signature-3"},{depth:3,value:"Returns",id:"returns-3"},{depth:3,value:"Example",id:"example-3"},{depth:2,value:"InsertGenericExistingUuid",id:"insertgenericexistinguuid"},{depth:3,value:"Signature",id:"signature-4"},{depth:3,value:"Example",id:"example-4"},{depth:2,value:"UpdateGeneric",id:"updategeneric"},{depth:3,value:"Signature",id:"signature-5"},{depth:3,value:"Parameters",id:"parameters-2"},{depth:3,value:"Important",id:"important"},{depth:3,value:"Example",id:"example-5"}];function c(e){let r=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",h3:"h3",pre:"pre",span:"span",ul:"ul",li:"li",strong:"strong",hr:"hr",a:"a"},(0,o.a)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{children:"Generic Operations"}),"\n",(0,n.jsx)(r.p,{children:"Type-safe database operations with automatic struct-to-row mapping."}),"\n",(0,n.jsxs)(r.p,{children:["All generic operations require prior type registration with ",(0,n.jsx)(r.code,{children:"Register[T]()"}),"."]}),"\n",(0,n.jsx)(r.h2,{id:"selectgeneric",children:"SelectGeneric"}),"\n",(0,n.jsx)(r.p,{children:"Execute a SELECT query and return multiple rows as a slice of structs."}),"\n",(0,n.jsx)(r.h3,{id:"signature",children:"Signature"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsx)(r.code,{"data-language":"go","data-theme":"default",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" SelectGeneric[T any](tx "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"sql.Tx, query "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"string"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", args "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"any) ([]"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"T, "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"error"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:")"})]})})}),"\n",(0,n.jsx)(r.h3,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"T"})," - Struct type (must be registered)"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"tx"})," - Database transaction"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"query"})," - SQL SELECT query"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"args"})," - Query parameters (variadic)"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"returns",children:"Returns"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"[]*T"})," - Slice of pointers to struct instances"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"error"})," - Error if query fails or columns don't match struct"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"example",children:"Example"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsxs)(r.code,{"data-language":"go","data-theme":"default",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"users, err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" lpg.SelectGeneric[User](tx, "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"SELECT * FROM users WHERE age > $1"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"25"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"!="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"nil"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" err"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" _, user "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"range"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" users {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    fmt."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"Printf"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"%s"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"%s"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'\\n"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", user.FirstName, user.LastName)"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,n.jsx)(r.h3,{id:"behavior",children:"Behavior"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Returns ",(0,n.jsx)(r.strong,{children:"empty slice"})," (not nil) when no rows found"]}),"\n",(0,n.jsx)(r.li,{children:"Validates all returned columns exist in struct"}),"\n",(0,n.jsx)(r.li,{children:"Automatically maps columns to struct fields"}),"\n"]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"selectgenericsingle",children:"SelectGenericSingle"}),"\n",(0,n.jsx)(r.p,{children:"Execute a SELECT query and return the first row or nil."}),"\n",(0,n.jsx)(r.h3,{id:"signature-1",children:"Signature"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsx)(r.code,{"data-language":"go","data-theme":"default",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" SelectGenericSingle[T any](tx "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"sql.Tx, query "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"string"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", args "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"any) ("}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"T, "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"error"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:")"})]})})}),"\n",(0,n.jsx)(r.h3,{id:"returns-1",children:"Returns"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"*T"})," - Pointer to struct instance, or ",(0,n.jsx)(r.code,{children:"nil"})," if no rows"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"error"})," - Error if query fails"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"example-1",children:"Example"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsxs)(r.code,{"data-language":"go","data-theme":"default",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"user, err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" lpg.SelectGenericSingle[User](tx, "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"SELECT * FROM users WHERE id = $1"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", userId)"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"!="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"nil"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" err"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" user "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"=="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"nil"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" errors."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"New"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"user not found"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"fmt."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"Println"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"(user.Name)"})]})]})}),"\n",(0,n.jsx)(r.h3,{id:"behavior-1",children:"Behavior"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Returns ",(0,n.jsx)(r.code,{children:"nil, nil"})," (not error) when no rows found"]}),"\n",(0,n.jsx)(r.li,{children:"Returns first row if multiple rows match"}),"\n"]}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"insertgeneric",children:"InsertGeneric"}),"\n",(0,n.jsx)(r.p,{children:"Insert a struct and return the auto-generated integer ID."}),"\n",(0,n.jsx)(r.h3,{id:"signature-2",children:"Signature"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsx)(r.code,{"data-language":"go","data-theme":"default",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" InsertGeneric[T any](tx "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"sql.Tx, t "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"T) ("}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"int"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"error"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:")"})]})})}),"\n",(0,n.jsx)(r.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"t"})," - Pointer to struct instance"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"returns-2",children:"Returns"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"int"})," - Auto-generated ID from database"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"error"})," - Error if insert fails"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"requirements",children:"Requirements"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Struct must have integer ",(0,n.jsx)(r.code,{children:"Id"})," field"]}),"\n",(0,n.jsx)(r.li,{children:"Database column must be auto-increment"}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"example-2",children:"Example"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsxs)(r.code,{"data-language":"go","data-theme":"default",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"user "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"User{"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    FirstName: "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"John"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    LastName:  "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Doe"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    Email:     "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"john@example.com"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"id, err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" lpg."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"InsertGeneric"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"(tx, user)"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"!="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"nil"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" err"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"fmt."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"Printf"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Inserted user with ID: '}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-constant)"},children:"%d"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'\\n"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", id)"})]})]})}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"insertgenericuuid",children:"InsertGenericUuid"}),"\n",(0,n.jsxs)(r.p,{children:["Insert a struct with auto-generated UUID for string ",(0,n.jsx)(r.code,{children:"Id"})," field."]}),"\n",(0,n.jsx)(r.h3,{id:"signature-3",children:"Signature"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsx)(r.code,{"data-language":"go","data-theme":"default",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" InsertGenericUuid[T any](tx "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"sql.Tx, t "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"T) ("}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"string"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"error"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:")"})]})})}),"\n",(0,n.jsx)(r.h3,{id:"returns-3",children:"Returns"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"string"})," - Generated UUID"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"error"})," - Error if insert fails"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"example-3",children:"Example"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsxs)(r.code,{"data-language":"go","data-theme":"default",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"entity "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"Entity{Name: "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"My Entity"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"uuid, err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" lpg."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"InsertGenericUuid"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"(tx, entity)"})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-comment)"},children:"// entity.Id is now set to the generated UUID"})})]})}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"insertgenericexistinguuid",children:"InsertGenericExistingUuid"}),"\n",(0,n.jsxs)(r.p,{children:["Insert a struct with pre-existing UUID in the ",(0,n.jsx)(r.code,{children:"Id"})," field."]}),"\n",(0,n.jsx)(r.h3,{id:"signature-4",children:"Signature"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsx)(r.code,{"data-language":"go","data-theme":"default",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" InsertGenericExistingUuid[T any](tx "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"sql.Tx, t "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"T) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"error"})]})})}),"\n",(0,n.jsx)(r.h3,{id:"example-4",children:"Example"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsxs)(r.code,{"data-language":"go","data-theme":"default",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"entity "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"Entity{"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    Id:   uuid."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"New"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"()."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"String"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"(),"})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"    Name: "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"My Entity"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:","})]}),"\n",(0,n.jsx)(r.span,{className:"line",children:(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" lpg."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"InsertGenericExistingUuid"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"(tx, entity)"})]})]})}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"updategeneric",children:"UpdateGeneric"}),"\n",(0,n.jsx)(r.p,{children:"Update all fields of a struct based on a WHERE clause."}),"\n",(0,n.jsx)(r.h3,{id:"signature-5",children:"Signature"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsx)(r.code,{"data-language":"go","data-theme":"default",children:(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"func"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" UpdateGeneric[T any](tx "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"sql.Tx, t "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"*"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"T, where "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"string"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", args "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"any) "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"error"})]})})}),"\n",(0,n.jsx)(r.h3,{id:"parameters-2",children:"Parameters"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"t"})," - Pointer to struct with updated values"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"where"})," - WHERE clause (required, non-empty)"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"args"})," - WHERE clause parameters"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"important",children:"Important"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Updates ",(0,n.jsx)(r.strong,{children:"ALL"})," fields in struct"]}),"\n",(0,n.jsxs)(r.li,{children:["WHERE clause is ",(0,n.jsx)(r.strong,{children:"required"})]}),"\n",(0,n.jsxs)(r.li,{children:["PostgreSQL: ",(0,n.jsx)(r.code,{children:"$N"})," placeholders are automatically renumbered"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"example-5",children:"Example"}),"\n",(0,n.jsx)(r.pre,{"data-language":"go","data-theme":"default",hasCopyCode:!0,children:(0,n.jsxs)(r.code,{"data-language":"go","data-theme":"default",children:[(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"user.FirstName "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Jane"'})]}),"\n",(0,n.jsxs)(r.span,{className:"line",children:[(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"err "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-keyword)"},children:":="}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:" lpg."}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-function)"},children:"UpdateGeneric"}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:"(tx, user, "}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"id = $1"'}),(0,n.jsx)(r.span,{style:{color:"var(--shiki-color-text)"},children:", user.Id)"})]})]})}),"\n",(0,n.jsxs)(r.p,{children:["See ",(0,n.jsx)(r.a,{href:"/api-reference/core/generic-operations",children:"API Reference"})," for complete documentation."]})]})}let d={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,o.a)(),e.components);return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)},pageOpts:{filePath:"pages/api-reference/core/generic-operations.mdx",route:"/api-reference/core/generic-operations",timestamp:1766515491e3,pageMap:[{kind:"Meta",data:{index:"Home","getting-started":"Getting Started",guides:"Guides","api-reference":"API Reference",examples:"Examples",troubleshooting:"Troubleshooting",contributing:"Contributing"}},{kind:"Folder",name:"api-reference",route:"/api-reference",children:[{kind:"Meta",data:{core:"Core",postgresql:"PostgreSQL",mysql:"MySQL"}},{kind:"Folder",name:"core",route:"/api-reference/core",children:[{kind:"Meta",data:{interfaces:"Interfaces",registration:"Registration","generic-operations":"Generic Operations","manual-operations":"Manual Operations",helpers:"Helper Functions"}},{kind:"MdxPage",name:"generic-operations",route:"/api-reference/core/generic-operations"},{kind:"MdxPage",name:"helpers",route:"/api-reference/core/helpers"},{kind:"MdxPage",name:"interfaces",route:"/api-reference/core/interfaces"},{kind:"MdxPage",name:"manual-operations",route:"/api-reference/core/manual-operations"},{kind:"MdxPage",name:"registration",route:"/api-reference/core/registration"}]},{kind:"Folder",name:"mysql",route:"/api-reference/mysql",children:[{kind:"Meta",data:{overview:"Overview","crud-operations":"CRUD Operations"}},{kind:"MdxPage",name:"crud-operations",route:"/api-reference/mysql/crud-operations"},{kind:"MdxPage",name:"overview",route:"/api-reference/mysql/overview"}]},{kind:"Folder",name:"postgresql",route:"/api-reference/postgresql",children:[{kind:"Meta",data:{overview:"Overview","crud-operations":"CRUD Operations","uuid-support":"UUID Support","parameter-handling":"Parameter Handling"}},{kind:"MdxPage",name:"crud-operations",route:"/api-reference/postgresql/crud-operations"},{kind:"MdxPage",name:"overview",route:"/api-reference/postgresql/overview"},{kind:"MdxPage",name:"parameter-handling",route:"/api-reference/postgresql/parameter-handling"},{kind:"MdxPage",name:"uuid-support",route:"/api-reference/postgresql/uuid-support"}]}]},{kind:"Folder",name:"contributing",route:"/contributing",children:[{kind:"Meta",data:{development:"Development Setup",testing:"Testing"}},{kind:"MdxPage",name:"development",route:"/contributing/development"},{kind:"MdxPage",name:"testing",route:"/contributing/testing"}]},{kind:"Folder",name:"examples",route:"/examples",children:[{kind:"Meta",data:{"basic-crud":"Basic CRUD","postgresql-complete":"PostgreSQL Complete Example","mysql-complete":"MySQL Complete Example","uuid-entities":"UUID Entities","custom-naming":"Custom Naming Strategy","advanced-queries":"Advanced Queries"}},{kind:"MdxPage",name:"advanced-queries",route:"/examples/advanced-queries"},{kind:"MdxPage",name:"basic-crud",route:"/examples/basic-crud"},{kind:"MdxPage",name:"custom-naming",route:"/examples/custom-naming"},{kind:"MdxPage",name:"mysql-complete",route:"/examples/mysql-complete"},{kind:"MdxPage",name:"postgresql-complete",route:"/examples/postgresql-complete"},{kind:"MdxPage",name:"uuid-entities",route:"/examples/uuid-entities"}]},{kind:"Folder",name:"getting-started",route:"/getting-started",children:[{kind:"Meta",data:{introduction:"Introduction",installation:"Installation","quick-start":"Quick Start","core-concepts":"Core Concepts"}},{kind:"MdxPage",name:"core-concepts",route:"/getting-started/core-concepts"},{kind:"MdxPage",name:"installation",route:"/getting-started/installation"},{kind:"MdxPage",name:"introduction",route:"/getting-started/introduction"},{kind:"MdxPage",name:"quick-start",route:"/getting-started/quick-start"}]},{kind:"Folder",name:"guides",route:"/guides",children:[{kind:"Meta",data:{postgresql:"PostgreSQL",mysql:"MySQL",registration:"Registration System","naming-strategies":"Naming Strategies",transactions:"Transactions"}},{kind:"MdxPage",name:"mysql",route:"/guides/mysql"},{kind:"MdxPage",name:"naming-strategies",route:"/guides/naming-strategies"},{kind:"MdxPage",name:"postgresql",route:"/guides/postgresql"},{kind:"MdxPage",name:"registration",route:"/guides/registration"},{kind:"MdxPage",name:"transactions",route:"/guides/transactions"}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"troubleshooting",route:"/troubleshooting",children:[{kind:"Meta",data:{"common-errors":"Common Errors",debugging:"Debugging Guide","migration-guide":"Migration Guide"}},{kind:"MdxPage",name:"common-errors",route:"/troubleshooting/common-errors"},{kind:"MdxPage",name:"debugging",route:"/troubleshooting/debugging"},{kind:"MdxPage",name:"migration-guide",route:"/troubleshooting/migration-guide"}]}],flexsearch:{codeblocks:!0},title:"Generic Operations",headings:a},pageNextRoute:"/api-reference/core/generic-operations",nextraLayout:t.ZP,themeConfig:l.Z};r.default=(0,i.j)(d)},9004:function(e,r,s){"use strict";var n=s(5893);r.Z={logo:(0,n.jsx)("span",{style:{fontWeight:700,fontSize:"1.2rem"},children:"⚡ go-lightning"}),project:{link:"https://github.com/tracewayapp/go-lightning"},docsRepositoryBase:"https://github.com/tracewayapp/go-lightning/tree/main/docs",useNextSeoProps:()=>({titleTemplate:"%s – go-lightning"}),head:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n.jsx)("meta",{property:"og:title",content:"go-lightning"}),(0,n.jsx)("meta",{property:"og:description",content:"Lightweight Go library for simplified database operations"})]}),primaryHue:205,darkMode:!0,nextThemes:{defaultTheme:"dark"},sidebar:{defaultMenuCollapseLevel:1,toggleButton:!0},toc:{backToTop:!0},editLink:{text:"Edit this page on GitHub →"},feedback:{content:"Question? Give us feedback →",labels:"feedback"},footer:{text:(0,n.jsxs)("span",{children:["MIT ",new Date().getFullYear()," \xa9"," ",(0,n.jsx)("a",{href:"https://github.com/tracewayapp",target:"_blank",children:"Traceway"})]})}}},5789:function(){}},function(e){e.O(0,[73,888,774,179],function(){return e(e.s=9365)}),_N_E=e.O()}]);